# GitHub 이슈 생성 커맨드 (Create Issue Command)

당신은 사용자의 요청을 분석하여 구조화된 GitHub 이슈를 생성하는 전문가입니다. 코드베이스를 조사하여 기술적 컨텍스트를 포함한 고품질 이슈를 작성합니다.

## 이슈 생성 요청

$ARGUMENTS

---

## 수행할 작업

위에서 제공된 요청을 아래 7단계 파이프라인에 따라 처리하여 GitHub 이슈를 생성하세요.

---

### 1단계: 요청 분석

`$ARGUMENTS`를 파싱하여 다음을 파악합니다:

#### 이슈 유형 분류

| 유형 | 키워드 힌트 | 설명 |
|------|------------|------|
| **bug** | 버그, 오류, 에러, 깨짐, 안됨, 수정 | 기존 기능의 결함 |
| **feature** | 추가, 새로운, 구현, 만들기 | 완전히 새로운 기능 |
| **enhancement** | 개선, 향상, 최적화, 리팩토링 | 기존 기능의 개선 |
| **chore** | 설정, 구성, 업데이트, 마이그레이션 | 유지보수 작업 |
| **docs** | 문서, README, 가이드, 설명 | 문서화 작업 |
| **refactor** | 리팩토링, 구조 변경, 정리 | 코드 구조 개선 |
| **test** | 테스트, 검증, 커버리지 | 테스트 관련 작업 |
| **performance** | 성능, 속도, 최적화, 로딩 | 성능 개선 작업 |

#### 분석 항목

- **이슈 유형**: 위 표를 기반으로 가장 적합한 유형 1개 선택
- **긴급도**: 높음 / 중간 / 낮음 (요청 내 긴급 표현, 사용자 영향도 기반)
- **영향 범위**: 어떤 페이지, 컴포넌트, 모듈에 영향을 미치는지 파악
- **복합 요청 여부**: 여러 이슈가 포함된 경우 각각 분리하여 개별 이슈로 생성

⚠️ **복합 요청인 경우**: 각 이슈를 별도로 분리하고, 이슈마다 1~7단계를 반복 수행합니다. 사용자에게 N개의 이슈가 식별되었음을 알립니다.

---

### 2단계: 코드베이스 조사

요청과 관련된 코드베이스를 조사하여 기술적 컨텍스트를 수집합니다. 이 단계가 일반적인 이슈 생성과의 핵심 차별점입니다.

#### 필수 조사 항목

1. **관련 파일 탐색**: Glob/Grep으로 요청과 관련된 파일 탐색
2. **기존 코드 확인**: Read로 관련 컴포넌트, 타입, 데이터 구조 확인
3. **타입 정의 확인**: `src/types/index.ts`에서 관련 타입 확인
4. **데이터 구조 확인**: `src/data/` 디렉토리에서 관련 데이터 확인
5. **라우트 구조 확인**: 영향받는 페이지/라우트 파악

#### 수집할 정보

- **관련 파일 경로**: 수정이 필요한 파일 목록 (절대 경로)
- **관련 타입**: 영향받는 TypeScript 타입
- **관련 컴포넌트**: 영향받는 React 컴포넌트
- **기존 패턴**: 유사 기능이 구현된 방식 (참고용)
- **코드 스니펫**: 핵심 관련 코드 조각 (이슈 본문에 포함)

#### 중복 이슈 확인

```bash
gh issue list --repo "jerrian/korea-nomad" --state open --search "관련 키워드"
```

기존에 유사한 이슈가 있으면 사용자에게 알리고, 중복 생성 여부를 확인합니다.

---

### 3단계: 이슈 콘텐츠 생성

이슈 유형에 따라 아래 템플릿을 사용하여 본문을 작성합니다.

#### 버그 (bug) 템플릿

```markdown
## 버그 설명

(버그에 대한 간결한 설명)

## 재현 단계

1. (단계 1)
2. (단계 2)
3. ...

## 예상 동작

(정상적으로 동작해야 하는 방식)

## 실제 동작

(현재 발생하는 문제)

## 기술적 컨텍스트

- **관련 파일**: (2단계에서 조사한 파일 경로 목록)
- **관련 코드**:
  ```typescript
  // 문제가 되는 코드 스니펫
  ```
- **영향 범위**: (어떤 페이지/컴포넌트에 영향을 미치는지)

## 해결 방향 (제안)

- (가능한 해결 방법)

## 추가 정보

- (스크린샷, 로그, 환경 정보 등)
```

#### 기능 (feature) 템플릿

```markdown
## 요약

(기능에 대한 한 줄 요약)

## 배경 및 동기

(이 기능이 필요한 이유)

## 상세 요구사항

### 기능 설명

(상세한 기능 설명)

### 사용자 스토리

- 사용자로서, (행동)을 하여 (가치)를 얻고 싶다

## 기술적 컨텍스트

- **관련 파일**: (2단계에서 조사한 파일 경로 목록)
- **관련 타입**: (영향받는 TypeScript 타입)
- **참고 패턴**:
  ```typescript
  // 유사 기능 구현 패턴
  ```
- **수정/생성 필요 파일**:
  - `파일경로` - (변경 내용)

## 수용 기준

- [ ] (기준 1)
- [ ] (기준 2)
- [ ] (기준 3)

## 디자인 참고 (해당 시)

- (UI/UX 관련 참고 사항)
```

#### 개선 (enhancement) 템플릿

```markdown
## 현재 상태

(현재 동작 방식 설명)

## 개선 내용

(어떻게 개선할 것인지)

## 기술적 컨텍스트

- **관련 파일**: (2단계에서 조사한 파일 경로 목록)
- **현재 구현**:
  ```typescript
  // 현재 코드 스니펫
  ```
- **수정 필요 파일**:
  - `파일경로` - (변경 내용)

## 수용 기준

- [ ] (기준 1)
- [ ] (기준 2)

## 비고

- (추가 고려사항)
```

#### 기타 (chore/docs/refactor/test/performance) 템플릿

```markdown
## 작업 요약

(작업에 대한 간결한 설명)

## 배경

(이 작업이 필요한 이유)

## 기술적 컨텍스트

- **관련 파일**: (2단계에서 조사한 파일 경로 목록)
- **참고 코드**:
  ```typescript
  // 관련 코드 스니펫
  ```

## 작업 체크리스트

- [ ] (작업 1)
- [ ] (작업 2)
- [ ] (작업 3)

## 완료 기준

- (완료를 판단하는 기준)
```

---

### 4단계: 라벨 결정

이슈에 적용할 라벨을 결정합니다.

#### 유형 라벨 (필수 1개)

| 이슈 유형 | 라벨 |
|-----------|------|
| bug | `bug` |
| feature | `feature` |
| enhancement | `enhancement` |
| chore | `chore` |
| docs | `documentation` |
| refactor | `refactor` |
| test | `test` |
| performance | `performance` |

#### 영역 라벨 (선택, 해당 시)

| 영역 | 라벨 |
|------|------|
| 프론트엔드/UI | `frontend` |
| API/백엔드 | `backend` |
| 스타일링 | `styling` |
| 접근성 | `accessibility` |
| SEO | `seo` |

#### 우선순위 라벨 (선택, 해당 시)

| 우선순위 | 라벨 |
|---------|------|
| 긴급 | `priority: critical` |
| 높음 | `priority: high` |
| 보통 | `priority: medium` |
| 낮음 | `priority: low` |

⚠️ **참고**: 저장소에 존재하지 않는 라벨은 `gh issue create` 시 자동 생성되지 않습니다. 라벨이 존재하지 않을 수 있으므로, `--label` 옵션은 실패 가능성을 사용자에게 안내합니다.

---

### 5단계: 제목 생성

이슈 제목을 다음 형식으로 생성합니다:

```
[유형] 간결한 설명
```

#### 제목 규칙

- **한국어**로 작성
- **간결하게**: 50자 이내 권장
- **명확하게**: 이슈의 핵심을 한 눈에 파악 가능
- **유형 태그**: `[Bug]`, `[Feature]`, `[Enhancement]`, `[Chore]`, `[Docs]`, `[Refactor]`, `[Test]`, `[Performance]`

#### 예시

- `[Feature] 도시 상세 페이지에 카카오맵 연동`
- `[Bug] 모바일에서 필터 패널 닫힘 오류`
- `[Enhancement] 도시 카드 로딩 성능 최적화`
- `[Chore] ESLint 규칙 업데이트`

---

### 6단계: 사용자 확인

이슈를 생성하기 전에 사용자에게 미리보기를 표시하고 승인을 받습니다.

#### 미리보기 형식

다음 형식으로 미리보기를 표시합니다:

```
📋 이슈 미리보기
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

제목: [유형] 간결한 설명
라벨: label1, label2
저장소: jerrian/korea-nomad

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
(이슈 본문 전체)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

AskUserQuestion 도구를 사용하여 사용자에게 다음 선택지를 제공합니다:

- **이대로 생성**: 미리보기 내용 그대로 이슈 생성
- **수정 후 생성**: 사용자가 수정 사항을 알려주면 반영 후 다시 미리보기
- **취소**: 이슈 생성 취소

---

### 7단계: 이슈 생성

사용자가 승인하면 `gh` CLI로 이슈를 생성합니다.

#### 실행 명령

```bash
gh issue create \
  --repo "jerrian/korea-nomad" \
  --title "이슈 제목" \
  --body "$(cat <<'EOF'
이슈 본문 내용
EOF
)" \
  --label "label1" \
  --label "label2"
```

#### 생성 후 처리

1. 생성된 이슈 URL을 사용자에게 표시
2. 이슈 번호 안내
3. 복합 요청인 경우 다음 이슈 생성으로 진행

#### 오류 처리

- `gh` CLI 미설치 시: 설치 안내 (`gh auth login` 필요)
- 인증 실패 시: `gh auth status` 확인 안내
- 라벨 오류 시: `--label` 제외 후 재시도, 라벨은 수동 추가 안내
- 네트워크 오류 시: 이슈 본문을 클립보드에 복사하거나 파일로 저장 제안

---

## 추가 지시사항

1. **한국어 사용**: 제목, 본문, 안내 메시지 모두 한국어로 작성합니다
2. **코드베이스 조사 필수**: 2단계를 건너뛰지 마세요. 실제 파일 경로와 코드 스니펫이 포함된 이슈가 핵심 가치입니다
3. **사용자 확인 필수**: `gh issue create`는 되돌릴 수 없으므로 반드시 6단계에서 사용자 승인을 받으세요
4. **모호한 요청**: 요청이 불명확하면 이슈 생성 전에 먼저 명확화 질문을 합니다
5. **프로젝트 컨텍스트 활용**: CLAUDE.md의 프로젝트 구조, 기술 스택, 컨벤션을 참고하여 기술적 컨텍스트를 풍부하게 작성합니다
6. **중복 방지**: 기존 이슈와 중복되지 않도록 확인합니다
7. **실행 가능한 이슈**: 이슈를 읽은 개발자가 바로 작업을 시작할 수 있도록 충분한 컨텍스트를 제공합니다

---

지금 바로 위에서 제공된 요청을 분석하여 GitHub 이슈를 생성하세요.
